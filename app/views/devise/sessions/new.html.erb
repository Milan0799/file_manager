<div>
  <h3>Log In</h3>

  <%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
    <div class="form-group">
      <%= f.label :email %>
      <%= f.email_field :email, autofocus: true, class: "form-control" %>
    </div>

    <div class="form-group">
      <%= f.label :password %>
      <%= f.password_field :password, autocomplete: "current-password", class: "form-control" %>
    </div>

    <div class="actions">
      <%= f.submit "Log In", class: "btn-submit" %>
    </div>
  <% end %>

  <div class="text-center links">
    <p>
      <%= link_to "Sign up", new_registration_path(resource_name) %>
    </p>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const form = document.querySelector("form");
    const emailField = document.querySelector("#email");
    const passwordField = document.querySelector("#password");

    form.addEventListener("submit", function(event) {
      let hasError = false;

      // Validate email
      if (!emailField.value.includes("@")) {
        alert("Please enter a valid email address.");
        hasError = true;
      }

      // Validate password
      if (passwordField.value.trim() === "") {
        alert("Password cannot be blank.");
        hasError = true;
      }

      // Prevent form submission if validation fails
      if (hasError) {
        event.preventDefault();
      }
    });
  });
</script>

