<div class="container">
  <h1 class="page-title">Your Files</h1>

  <!-- Upload New File Button -->
  <div class="upload-button">
    <%= link_to 'Upload New File', new_file_upload_path, class: "btn-upload" %>
  </div>

  <!-- Table or Empty State -->
  <table class="file-table">
    <thead>
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>File Type</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <%if @file_uploads.blank? %>
        <tr>
          <td> No data to show </td>
        </tr>
      <% else %>
        <% @file_uploads.each do |fup| %>
          <tr>
            <td>
              <strong><%= fup.title %></strong>
            </td>
            <td>
              <% if fup.description.present? %>
                <p class="file-description"><%= fup.description %></p>
              <% end %>
            </td>
            <td>
              <p><%= fup.file_type %></p>
            </td>
            <td>
              <%= link_to 'Download', rails_blob_path(fup.file, disposition: "attachment"), class: "btn-action btn-download" if fup.file.attached? %>
              <%= link_to 'Delete', file_upload_path(fup), method: :delete, data: { confirm: 'Are you sure you want to delete this entryex?' }, class: "btn-action btn-delete" %>
              <%= button_to 'Share publicly', share_file_upload_path(fup), method: :post, class: "btn-action btn-share" %>
            </td>
          </tr>
        <% end %>
      <% end %>
    </tbody>
  </table>
</div>
